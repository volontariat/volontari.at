<% columns = { 'name' => 'user.name', 'user_id' => ''} %>
<% columns['vacancy_id'] = '' unless @vacancy %>
<% columns['project_id'] = 'vacancy.project' unless @vacancy %>

<%= form_tag update_multiple_candidatures_path, method: :post do %>
  <%= render partial: "shared/collection/#{@vacancy ? 'list' : 'table'}", locals: { 
    type: 'candidatures', collection: @candidatures, columns: columns, content_column: 'text' 
  } %>
<% end %>

<%= link_to t('candidatures.new.title'), new_vacancy_candidature_path(@vacancy) if @vacancy %>